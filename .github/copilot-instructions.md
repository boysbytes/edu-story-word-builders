# Mia Kids Educational Chatbot - AI Agent Instructions

## Project Overview
This is an **educational chatbot for Malaysian Year 1-4 students**. The app is a **Vite + React single-page application** designed for deployment to **Vercel** as a static site with serverless functions.

## Tech Stack & Architecture
- **Frontend**: React 18 + Vite (ESM modules)
- **Styling**: Tailwind CSS v3.3.6 (utility-first, inline classes with custom animations)
- **Deployment**: Vercel (static site + serverless API)
- **API**: Google Gemini Pro for story generation via `/api/generate-story` endpoint

## Project Structure
```
â”œâ”€â”€ api/
â”‚   â””â”€â”€ generate-story.js     # Serverless function for AI story generation
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ StoryBuilderChatbot.jsx  # Main chatbot component (1000+ lines)
â”‚   â”œâ”€â”€ App.jsx               # Root component
â”‚   â”œâ”€â”€ main.jsx              # Entry point
â”‚   â””â”€â”€ index.css             # Tailwind imports + Google Fonts
â”œâ”€â”€ public/                   # Static assets (auto-generated by Vite)
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ copilot-instructions.md  # This file
â”œâ”€â”€ UI_DESIGN_SYSTEM.md      # Complete UI design system documentation
â”œâ”€â”€ README.md                 # Deployment and usage instructions
â”œâ”€â”€ package.json              # Dependencies and scripts
â”œâ”€â”€ tailwind.config.js        # Custom animations and theme extensions
â”œâ”€â”€ vercel.json               # Deployment configuration
â””â”€â”€ vite.config.js            # Vite build configuration
```

## Environment Variables & API Keys
- **Production (Vercel)**: Set `GENERATIVE_API_KEY` in Vercel environment variables (server-side only)
- **Local Development**: Create `.env.local` with `GENERATIVE_API_KEY=your_key_here`

## Component Patterns & Conventions
- **No PropTypes or TypeScript**: Uses plain JSX with inline type assumptions
- **Utility-first Tailwind**: All styles inline via className (see `UI_DESIGN_SYSTEM.md` for comprehensive guidelines)
- **Custom animations**: Defined in `tailwind.config.js` (fade-in, float, bounce-slow, spin-slow)
- **Modern UI for ages 6-10**: Vibrant gradients, large touch targets (min 72px), rounded shapes, emoji avatars
- **Emoji UI elements**: Teacher bot (ğŸ‘©â€ğŸ«), student (ğŸ‘§), owl (ğŸ¦‰) used consistently for visual identity
- **Button tone system**: `tone="primary"` (blue-indigo gradient), `tone="danger"` (rose-pink gradient), `tone="secondary"` (slate gradient)
- **Auto-scroll**: `chatEndRef` with smooth scrolling behavior
- **Story formatting**: AI-generated words wrapped in `**word**` format, styled with indigo color

## UI Design System
A comprehensive **UI Design System** is documented in `UI_DESIGN_SYSTEM.md` covering:
- ğŸŒˆ **Color Palette**: Primary colors, gradients, semantic colors
- ğŸ“ **Typography**: Font sizes, weights, line heights
- ğŸ§© **Component Patterns**: Headers, chat bubbles, buttons, cards, loaders
- âœ¨ **Animations**: Keyframes, timing, usage guidelines
- ğŸ“ **Spacing & Layout**: Containers, padding, margins, gaps
- â™¿ **Accessibility**: ARIA labels, keyboard nav, color contrast, touch targets
- ğŸ­ **Emoji Usage**: Context-appropriate emoji selection
- ğŸ“± **Responsive Design**: Mobile-first breakpoints

**Key UI Features**:
- Gradient backgrounds with animated floating elements
- Avatar circles: 48px with gradient fills and white borders
- Chat bubbles: Gradient backgrounds with 2px borders and asymmetric tails
- Buttons: 72px min height, gradient fills, 4px borders, scale animations
- Progress dots: Animated scale on completion (green-400)
- Loading states: Purple-pink gradient with spinning icon
- Question containers: Indigo gradient with thick borders

Refer to `UI_DESIGN_SYSTEM.md` when creating new components or features to maintain consistency.

## Developer Workflow
- **Local dev**: `npm run dev` (Vite default port 5173)
- **Build**: `npm run build` (outputs to `dist/`)
- **Preview build**: `npm run preview --port 5173`
- **Deployment**: Push to GitHub â†’ Vercel auto-deploys from `main` branch
- **No tests configured**: Manual testing only (target audience is non-technical educators)

## Vercel-Specific Considerations
- **Serverless functions**: Must be in `api/` folder with ESM `export default` syntax
- **Build detection**: Vercel auto-detects Vite (framework preset)
- **Environment vars**: Must be set in Vercel dashboard (Project â†’ Settings â†’ Environment Variables)
- **CORS**: Serverless function returns JSON directly (same origin, no CORS needed)

## Accessibility & UX Conventions
- All interactive elements have `aria-label` attributes
- Progress indicators (`step/totalQuestions`) with visual dots for young learners
- Large touch targets (min 64px height) for mobile/tablet use
- Auto-scroll ensures students don't lose context
- Positive reinforcement language in all feedback messages

## Common Pitfalls to Avoid
- Don't add TypeScript or prop validation (project deliberately simple)
- Don't extract Tailwind classes to separate files (all inline per project style)
- Don't modify the STEPS array without preserving `questionId` continuity
- Don't expose API keys in client code (always proxy through serverless function)
- Don't use CommonJS syntax (`require`) - project is ESM-only (`"type": "module"` in package.json)

## Educational Context
Target audience: **Malaysian Year 1-4 students (ages 6-10)**, learning English reading comprehension. Story content uses:
- Simple present tense
- Malaysian cultural context (character names: Mia, Ali)
- Explicit WHO/WHERE/WHAT sentence structure teaching
- Child-safe story generation prompts (all prompts specify "child-friendly", "cartoon", "age 7")

## UI/UX Design Philosophy
The interface is designed specifically for young learners with:
- **High Engagement**: Bright gradients, animations, emoji avatars create playful atmosphere
- **Clear Hierarchy**: Large text (18px+ body, 24px headings), obvious interactive elements
- **Accessibility**: 72px min touch targets, high contrast ratios, ARIA labels, keyboard navigation
- **Positive Reinforcement**: Soft error colors (orange/rose gradients), encouraging language
- **Visual Feedback**: Animations on every interaction, loading states, progress visualization

See `UI_DESIGN_SYSTEM.md` for complete design guidelines.
- **Visual Feedback**: Animations on every interaction, loading states, progress visualization

See `UI_DESIGN_SYSTEM.md` for complete design guidelines.
